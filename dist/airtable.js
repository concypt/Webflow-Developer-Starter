"use strict";(()=>{async function m(a){let e="https://api.airtable.com/v0/appWNf6XfqAR6n0oT/"+a+"?api_key=keyUxdcC40qxNrt1Y";return await(await fetch(e)).json()}m(tableName).then(a=>L(a));var L=a=>{let e=a.records;e.forEach(s=>{s.fields.Unit=parseInt(s.fields.Unit)});let t=document.querySelector('[data-element="stocklist-row"]');if(!t)return;let c=t==null?void 0:t.parentElement;if(!c)return;d(e,t,c,"Defualt","Defualt"),document.querySelectorAll(".s-table-head-item").forEach(s=>{s.addEventListener("click",r=>{var n,i,l;r.preventDefault(),s.classList.contains("selected")||((n=document.querySelector(".selected"))==null||n.classList.remove("asc"),(i=document.querySelector(".selected"))==null||i.classList.remove("desc"),(l=document.querySelector(".selected"))==null||l.classList.remove("selected")),s.classList.contains("desc")&&!s.classList.contains("first")?(d(e,t,c,s.dataset.sortelement,"asc"),s.classList.add("selected","asc"),s.classList.remove("desc")):(d(e,t,c,s.dataset.sortelement,"desc"),s.classList.contains("first")||(s.classList.add("selected","desc"),s.classList.remove("asc")))})})},d=(a,e,t,c,o)=>{t.innerHTML="";let s=!1,r=v(a,c,o);for(let n in r)if(r.hasOwnProperty(n)){let i=r[n].fields,l=y(e,i);if(!l)return;s&&l.classList.add("colored"),s=!s,t.append(l)}},y=(a,e)=>{let t=a.cloneNode(!0),c=t.querySelector('[data-element="address"]'),o=t.querySelector('[data-element="unit"]'),s=t.querySelector('[data-element="price"]'),r=t.querySelector('[data-element="beds"]'),n=t.querySelector('[data-element="baths"]'),i=t.querySelector('[data-element="carpark"]'),l=t.querySelector('[data-element="status"]'),f=t.querySelector('[data-element="internal"]'),u=t.querySelector('[data-element="external"]');return c&&(c.textContent=e["Unit/Lot Number and Address"]),o&&(o.textContent=e.Unit),s&&(s.textContent=e.Price),r&&(r.textContent=e.Beds),n&&(n.textContent=e.Baths),i&&(i.textContent=e["Car Park"]),l&&(l.textContent=e.Status),f&&(f.textContent=e.Internal),u&&(u.textContent=e["Land Size"]),t},v=(a,e,t)=>{if(e==="Default")return a;let c=typeof a[0].fields[e];if(!c)return;let o=a.slice(0);return c==="number"?(console.log("number"),o.sort(function(s,r){let n;return t==="desc"?n=r.fields[e]-s.fields[e]:t==="asc"&&(n=s.fields[e]-r.fields[e]),n})):(c==="string"||c==="Default")&&(console.log("string"),o.sort(function(s,r){let n=s.fields[e].toLowerCase(),i=r.fields[e].toLowerCase(),l;return t==="desc"?l=i<n?-1:i>n?1:0:t==="asc"&&(l=n<i?-1:n>i?1:0),l})),o};})();
